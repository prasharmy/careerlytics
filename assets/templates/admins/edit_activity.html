{% extends 'admins/admin_base.html' %}
{% load static %}

{% block title %}Edit {{ activity.get_activity_type_display }}{% endblock %}
{% block header_title %}Edit {{ activity.get_activity_type_display }}{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto space-y-8 pb-12">
    <!-- Header Section -->
    <div class="relative overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 p-6 sm:p-8 shadow-lg">
        <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-3xl pointer-events-none"></div>
        <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-white/10 rounded-full blur-3xl pointer-events-none"></div>
        
        <div class="relative z-10">
            <h1 class="text-2xl sm:text-3xl font-bold text-white mb-2">Edit {{ activity.get_activity_type_display }}</h1>
            <p class="text-blue-100 text-sm sm:base max-w-2xl">Update details for {{ activity.title }}</p>
        </div>
    </div>
    
    <form method="post" action="{% url 'admin_edit_activity' activity.id %}" class="block">
        {% csrf_token %}
        
        {% if activity.activity_type == 'drive' %}
        <!-- DRIVE FORM -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Primary Details -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Drive Details Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400">
                            <span class="material-symbols-outlined">campaign</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Drive Details</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Basic information about the recruitment event</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div>
                            <label for="title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Drive Title <span class="text-red-500">*</span></label>
                            <input type="text" id="title" name="title" required value="{{ activity.title }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                        </div>
                        
                        <div>
                            <label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description <span class="text-red-500">*</span></label>
                            <textarea id="description" name="description" rows="4" required
                                      class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400 resize-none">{{ activity.description }}</textarea>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label for="date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Event Date <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">calendar_today</span>
                                    <input type="date" id="date" name="date" required value="{{ activity.date|date:'Y-m-d' }}"
                                           class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                                </div>
                            </div>
                            <div>
                                <label for="time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Start Time <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">schedule</span>
                                    <input type="time" id="time" name="time" required value="{{ activity.time|time:'H:i' }}"
                                           class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label for="location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Venue / Location <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">location_on</span>
                                <input type="text" id="location" name="location" required value="{{ activity.location }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Company Info Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400">
                            <span class="material-symbols-outlined">business</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Company Profile</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Organization and job offer specifics</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label for="company_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Company Name <span class="text-red-500">*</span></label>
                                <input type="text" id="company_name" name="company_name" required value="{{ activity.company_name }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                            <div>
                                <label for="job_role" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Job Role <span class="text-red-500">*</span></label>
                                <input type="text" id="job_role" name="job_role" required value="{{ activity.job_role }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>

                        <div>
                            <label for="package_range" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Package Offered (LPA)</label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">payments</span>
                                <input type="text" id="package_range" name="package_range" value="{{ activity.package_range }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Eligibility Criteria Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400">
                            <span class="material-symbols-outlined">verified</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Eligibility Criteria</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Requirements for student applicants</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label for="min_cgpa" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Minimum CGPA</label>
                                <input type="number" id="min_cgpa" name="min_cgpa" step="0.01" min="0" max="10" value="{{ activity.min_cgpa|default:'' }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                            <div>
                                <label for="max_applicants" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Max Applicants</label>
                                <input type="number" id="max_applicants" name="max_applicants" min="1" value="{{ activity.max_applicants }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>

                        <div>
                            <label for="eligible_departments" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Eligible Departments</label>
                            <select id="eligible_departments" name="eligible_departments"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white appearance-none">
                                <option value="">Select Branch</option>
                                <option value="B.Tech CSE" {% if activity.eligible_departments == "B.Tech CSE" %}selected{% endif %}>B.Tech CSE</option>
                                <option value="B.Tech ECE" {% if activity.eligible_departments == "B.Tech ECE" %}selected{% endif %}>B.Tech ECE</option>
                                <option value="B.Tech EEE" {% if activity.eligible_departments == "B.Tech EEE" %}selected{% endif %}>B.Tech EEE</option>
                                <option value="B.Tech MECH" {% if activity.eligible_departments == "B.Tech MECH" %}selected{% endif %}>B.Tech MECH</option>
                                <option value="B.Tech CIVIL" {% if activity.eligible_departments == "B.Tech CIVIL" %}selected{% endif %}>B.Tech CIVIL</option>
                                <option value="B.Tech IT" {% if activity.eligible_departments == "B.Tech IT" %}selected{% endif %}>B.Tech IT</option>
                                <option value="BCA" {% if activity.eligible_departments == "BCA" %}selected{% endif %}>BCA</option>
                                <option value="MCA" {% if activity.eligible_departments == "MCA" %}selected{% endif %}>MCA</option>
                                <option value="M.Sc Computer Science" {% if activity.eligible_departments == "M.Sc Computer Science" %}selected{% endif %}>M.Sc Computer Science</option>
                                <option value="Other" {% if activity.eligible_departments == "Other" %}selected{% endif %}>Other</option>
                            </select>
                        </div>

                        <div>
                            <label for="eligible_years" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Eligible Years</label>
                            <select id="eligible_years" name="eligible_years"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white appearance-none">
                                <option value="">Select Year</option>
                                <option value="1st Year" {% if activity.eligible_years == "1st Year" %}selected{% endif %}>1st Year</option>
                                <option value="2nd Year" {% if activity.eligible_years == "2nd Year" %}selected{% endif %}>2nd Year</option>
                                <option value="3rd Year" {% if activity.eligible_years == "3rd Year" %}selected{% endif %}>3rd Year</option>
                                <option value="4th Year" {% if activity.eligible_years == "4th Year" %}selected{% endif %}>4th Year</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="additional_requirements" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Additional Requirements</label>
                            <textarea id="additional_requirements" name="additional_requirements" rows="3"
                                      class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400 resize-none">{{ activity.additional_requirements }}</textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Column: Schedule & Contact -->
            <div class="space-y-6">
                
                <!-- Timeline Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-amber-50 dark:bg-amber-900/20 flex items-center justify-center text-amber-600 dark:text-amber-400">
                            <span class="material-symbols-outlined">event_note</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Timeline</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Key dates and deadlines</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div>
                            <label for="drive_date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Drive Start Date & Time <span class="text-red-500">*</span></label>
                            <input type="datetime-local" id="drive_date" name="drive_date" required value="{{ activity.drive_date|date:'Y-m-d\TH:i' }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                        </div>

                        <div>
                            <label for="drive_end_date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Drive End Date & Time <span class="text-red-500">*</span></label>
                            <input type="datetime-local" id="drive_end_date" name="drive_end_date" required value="{{ activity.drive_end_date|date:'Y-m-d\TH:i' }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                        </div>
                        
                        <div>
                            <label for="application_deadline" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Application Deadline <span class="text-red-500">*</span></label>
                            <input type="datetime-local" id="application_deadline" name="application_deadline" required value="{{ activity.application_deadline|date:'Y-m-d\TH:i' }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                        </div>
                    </div>
                </div>
                
                <!-- Contact Info Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400">
                            <span class="material-symbols-outlined">contact_phone</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Contact Info</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">For student inquiries</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div>
                            <label for="contact_person" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Contact Person <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">person</span>
                                <input type="text" id="contact_person" name="contact_person" required value="{{ activity.contact_person }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                        
                        <div>
                            <label for="contact_email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Email <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">mail</span>
                                <input type="email" id="contact_email" name="contact_email" required value="{{ activity.contact_email }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                        
                        <div>
                            <label for="contact_phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Phone</label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">call</span>
                                <input type="tel" id="contact_phone" name="contact_phone" value="{{ activity.contact_phone }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col gap-3 pt-4">
                    <button type="submit" class="w-full bg-brand-blue hover:bg-brand-blueHover text-white font-semibold py-3 px-4 rounded-xl shadow-lg shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">save</span>
                        Save Changes
                    </button>
                    <a href="{% url 'admin_placement_drives' %}" class="w-full bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border text-gray-700 dark:text-gray-300 font-semibold py-3 px-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-2">
                        Cancel
                    </a>
                </div>
            </div>

        {% else %}
        <!-- READINESS TEST FORM -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Primary Details -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Test Details Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400">
                            <span class="material-symbols-outlined">quiz</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Test Details</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Basic information about the test</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div>
                            <label for="title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Test Title <span class="text-red-500">*</span></label>
                            <input type="text" id="title" name="title" required value="{{ activity.title }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                        </div>
                        
                        <div>
                            <label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description <span class="text-red-500">*</span></label>
                            <textarea id="description" name="description" rows="4" required
                                      class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400 resize-none">{{ activity.description }}</textarea>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label for="date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Test Date <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">calendar_today</span>
                                    <input type="date" id="date" name="date" required value="{{ activity.date|date:'Y-m-d' }}"
                                           class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                                </div>
                            </div>
                            <div>
                                <label for="time" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Test Time <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">schedule</span>
                                    <input type="time" id="time" name="time" required value="{{ activity.time|time:'H:i' }}"
                                           class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label for="location" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Location <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg">location_on</span>
                                <input type="text" id="location" name="location" required value="{{ activity.location }}"
                                       class="w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Test Configuration Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400">
                            <span class="material-symbols-outlined">settings</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Configuration</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Exam settings and parameters</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label for="exam_duration" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Duration (minutes) <span class="text-red-500">*</span></label>
                                <input type="number" id="exam_duration" name="exam_duration" required min="15" max="180" value="{{ activity.exam_duration }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                            <div>
                                <label for="max_participants" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Max Participants <span class="text-red-500">*</span></label>
                                <input type="number" id="max_participants" name="max_participants" required min="1" max="500" value="{{ activity.max_participants }}"
                                       class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                            </div>
                        </div>

                        <div>
                            <label for="target_audience" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Target Audience <span class="text-red-500">*</span></label>
                            <input type="text" id="target_audience" name="target_audience" required value="{{ activity.target_audience }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Column: Eligibility & Actions -->
            <div class="space-y-6">
                
                <!-- Eligibility Card -->
                <div class="bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-xl p-5 sm:p-6 shadow-sm">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-gray-100 dark:border-dark-border/50">
                        <div class="w-10 h-10 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400">
                            <span class="material-symbols-outlined">verified</span>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">Eligibility</h3>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Requirements for students</p>
                        </div>
                    </div>
                    
                    <div class="space-y-5">
                        <div>
                            <label for="min_cgpa" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Minimum CGPA</label>
                            <input type="number" id="min_cgpa" name="min_cgpa" step="0.01" min="0" max="10" value="{{ activity.min_cgpa|default:'' }}"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white placeholder-gray-400">
                        </div>

                        <div>
                            <label for="eligible_departments" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Eligible Departments</label>
                            <select id="eligible_departments" name="eligible_departments"
                                   class="w-full px-4 py-2.5 bg-gray-50 dark:bg-dark-bg border border-gray-200 dark:border-dark-border rounded-lg focus:ring-2 focus:ring-brand-blue/20 focus:border-brand-blue transition-all outline-none text-gray-900 dark:text-white appearance-none">
                                <option value="">Select Branch</option>
                                <option value="B.Tech CSE" {% if activity.eligible_departments == "B.Tech CSE" %}selected{% endif %}>B.Tech CSE</option>
                                <option value="B.Tech ECE" {% if activity.eligible_departments == "B.Tech ECE" %}selected{% endif %}>B.Tech ECE</option>
                                <option value="B.Tech EEE" {% if activity.eligible_departments == "B.Tech EEE" %}selected{% endif %}>B.Tech EEE</option>
                                <option value="B.Tech MECH" {% if activity.eligible_departments == "B.Tech MECH" %}selected{% endif %}>B.Tech MECH</option>
                                <option value="B.Tech CIVIL" {% if activity.eligible_departments == "B.Tech CIVIL" %}selected{% endif %}>B.Tech CIVIL</option>
                                <option value="B.Tech IT" {% if activity.eligible_departments == "B.Tech IT" %}selected{% endif %}>B.Tech IT</option>
                                <option value="BCA" {% if activity.eligible_departments == "BCA" %}selected{% endif %}>BCA</option>
                                <option value="MCA" {% if activity.eligible_departments == "MCA" %}selected{% endif %}>MCA</option>
                                <option value="M.Sc Computer Science" {% if activity.eligible_departments == "M.Sc Computer Science" %}selected{% endif %}>M.Sc Computer Science</option>
                                <option value="Other" {% if activity.eligible_departments == "Other" %}selected{% endif %}>Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col gap-3 pt-4">
                    <button type="submit" class="w-full bg-brand-blue hover:bg-brand-blueHover text-white font-semibold py-3 px-4 rounded-xl shadow-lg shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">save</span>
                        Save Changes
                    </button>
                    <a href="{% url 'admin_placement_drives' %}" class="w-full bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border text-gray-700 dark:text-gray-300 font-semibold py-3 px-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center justify-center gap-2">
                        Cancel
                    </a>
                </div>
            </div>
        {% endif %}
    </form>
</div>
{% endblock %}