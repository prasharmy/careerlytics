{% extends 'users/user_tailwind_base.html' %}
{% load static %}

{% block title %}Python Assessment Dashboard - Mock Test Center{% endblock %}

{% block page_title %}Python Programming Assessments{% endblock %}

{% block extra_head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet"/>
<style>
  .material-icons-outlined,
  .material-icons {
    font-family: 'Material Icons Outlined', 'Material Icons', sans-serif;
    font-weight: normal;
    font-style: normal;
    font-size: 24px;
    line-height: 1;
    letter-spacing: normal;
    text-transform: none;
    display: inline-block;
    white-space: nowrap;
    word-wrap: normal;
    direction: ltr;
    -webkit-font-feature-settings: 'liga';
    -webkit-font-smoothing: antialiased;
  }
</style>
{% endblock %}

{% block contents %}
<style>
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .dark .glass-card {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .premium-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
        }
    </style>

<div class="w-full px-4 sm:px-8 md:px-12 py-6 md:py-12">
<nav class="flex items-center space-x-2 text-[10px] sm:text-sm text-slate-400 dark:text-slate-500 mb-6 md:mb-8 font-medium overflow-x-auto no-scrollbar whitespace-nowrap">
<a class="hover:text-primary transition-colors" href="{% url 'mock_test' %}">Mock Test Center</a>
<span class="material-icons-outlined text-[10px] sm:text-xs">chevron_right</span>
<a class="hover:text-primary transition-colors" href="#">Language-Based Tests</a>
<span class="material-icons-outlined text-[10px] sm:text-xs">chevron_right</span>
<span class="text-slate-600 dark:text-slate-300">Python Developer</span>
</nav>
<header class="relative overflow-hidden rounded-xl bg-white dark:bg-slate-800 p-6 sm:p-12 md:p-20 mb-8 md:mb-10 premium-shadow border border-slate-100 dark:border-slate-700 flex flex-col md:flex-row items-center justify-between gap-8">
<div class="z-10 text-center md:text-left w-full md:w-auto">
<h1 class="font-display text-2xl sm:text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-3 md:mb-4 leading-tight">
                    Python Developer <span class="text-primary">Assessments</span>
</h1>
<p class="text-sm sm:text-lg text-slate-500 dark:text-slate-400 max-w-xl mx-auto md:mx-0">
                    Evaluate your technical proficiency with industry-standard benchmarks designed for the modern Python ecosystem.
                </p>
</div>
<div class="relative w-32 h-32 md:w-48 md:h-48 flex items-center justify-center">
<div class="absolute inset-0 bg-primary/10 rounded-full blur-3xl"></div>
<div class="relative bg-gradient-to-br from-primary to-blue-600 w-24 h-24 md:w-32 md:h-32 rounded-3xl shadow-2xl flex items-center justify-center transform -rotate-6 transition-transform hover:rotate-0 duration-500">
<span class="material-icons-outlined text-white text-4xl md:text-6xl">code</span>
<div class="absolute -bottom-2 -right-2 bg-white dark:bg-slate-700 p-2 md:p-3 rounded-2xl shadow-lg transform rotate-12">
<span class="material-icons-outlined text-primary text-xl md:text-2xl">python</span>
</div>
</div>
</div>
</header>
<main class="space-y-6 md:space-y-10">
<section>
<div class="bg-white dark:bg-slate-800 rounded-xl p-6 sm:p-12 premium-shadow border border-slate-100 dark:border-slate-700">
<div class="flex flex-col lg:flex-row lg:items-center justify-between gap-6 md:gap-8">
<div class="flex-1">
<div class="flex flex-wrap items-center gap-2 md:gap-3 mb-2">
<h2 class="font-display text-xl md:text-2xl font-bold text-slate-900 dark:text-white">Python Fundamentals</h2>
<span class="px-2 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-primary text-[10px] md:text-xs font-bold uppercase tracking-wider rounded-full">Beginner</span>
</div>
<p class="text-xs md:text-sm text-slate-500 dark:text-slate-400 mb-6">Master the core Python programming concepts. Includes basic syntax, data types, control structures, functions, and object-oriented programming fundamentals.</p>
<div class="flex flex-wrap items-center gap-3 md:gap-4">
<div class="flex items-center gap-3 md:gap-4 bg-slate-50 dark:bg-slate-700/50 px-4 md:px-6 py-3 md:py-4 rounded-xl border border-slate-100 dark:border-slate-600/50 w-full sm:w-auto justify-between sm:justify-start">
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary text-xl">quiz</span>
<div>
<p class="text-[8px] md:text-[10px] uppercase font-bold tracking-widest text-slate-400">Questions</p>
<p class="text-base md:text-lg font-bold text-slate-900 dark:text-white">30</p>
</div>
</div>
<div class="w-px h-6 md:h-8 bg-slate-200 dark:bg-slate-600"></div>
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary text-xl">timer</span>
<div>
<p class="text-[8px] md:text-[10px] uppercase font-bold tracking-widest text-slate-400">Minutes</p>
<p class="text-base md:text-lg font-bold text-slate-900 dark:text-white">45</p>
</div>
</div>
<div class="w-px h-6 md:h-8 bg-slate-200 dark:bg-slate-600 hidden xs:block"></div>
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary text-xl">bar_chart</span>
<div>
<p class="text-[8px] md:text-[10px] uppercase font-bold tracking-widest text-slate-400">Level</p>
<p class="text-base md:text-lg font-bold text-slate-900 dark:text-white">Beginner</p>
</div>
</div>
</div>
</div>
</div>
<div class="flex flex-col sm:flex-row items-center gap-4 md:gap-6 lg:border-l lg:border-slate-100 lg:dark:border-slate-700 lg:pl-12 w-full lg:w-auto">
<div class="flex items-center gap-2">
<span class="relative flex h-3 w-3">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
<span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
</span>
<span class="text-xs md:text-sm font-medium text-slate-500">Available Now</span>
</div>
<button onclick="startTest(0)" class="w-full sm:w-auto px-6 md:px-8 py-3 md:py-4 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-blue-600 transition-all flex items-center justify-center gap-2 group text-sm md:text-base">
                                Select Test
                                <span class="material-icons-outlined text-lg group-hover:translate-x-1 transition-transform">arrow_forward</span>
</button>
</div>
</div>
</div>
</section>

{% for test in tests %}
<section>
<div class="bg-white dark:bg-slate-800 rounded-xl p-12 premium-shadow border border-slate-100 dark:border-slate-700">
<div class="flex flex-col lg:flex-row lg:items-center justify-between gap-8">
<div class="flex-1">
<div class="flex items-center gap-3 mb-2">
<h2 class="font-display text-2xl font-bold text-slate-900 dark:text-white">{{ test.name }}</h2>
<span class="px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-primary text-xs font-bold uppercase tracking-wider rounded-full">{{ test.difficulty }}</span>
</div>
<p class="text-slate-500 dark:text-slate-400 mb-6">{{ test.description }}</p>
<div class="flex flex-wrap items-center gap-4">
<div class="flex items-center gap-4 bg-slate-50 dark:bg-slate-700/50 px-6 py-4 rounded-xl border border-slate-100 dark:border-slate-600/50">
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary">quiz</span>
<div>
<p class="text-[10px] uppercase font-bold tracking-widest text-slate-400">Questions</p>
<p class="text-lg font-bold text-slate-900 dark:text-white">{{ test.questions }}</p>
</div>
</div>
<div class="w-px h-8 bg-slate-200 dark:bg-slate-600"></div>
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary">timer</span>
<div>
<p class="text-[10px] uppercase font-bold tracking-widest text-slate-400">Minutes</p>
<p class="text-lg font-bold text-slate-900 dark:text-white">{{ test.time }}</p>
</div>
</div>
<div class="w-px h-8 bg-slate-200 dark:bg-slate-600"></div>
<div class="flex items-center gap-2">
<span class="material-icons-outlined text-primary">bar_chart</span>
<div>
<p class="text-[10px] uppercase font-bold tracking-widest text-slate-400">Level</p>
<p class="text-lg font-bold text-slate-900 dark:text-white">{{ test.difficulty }}</p>
</div>
</div>
</div>
</div>
</div>
<div class="flex flex-col sm:flex-row items-center gap-6 lg:border-l lg:border-slate-100 lg:dark:border-slate-700 lg:pl-12">
<div class="flex items-center gap-2">
<span class="relative flex h-3 w-3">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
<span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
</span>
<span class="text-sm font-medium text-slate-500">Available Now</span>
</div>
<button onclick="startTest({{ forloop.counter0 }})" class="w-full sm:w-auto px-8 py-4 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/25 hover:bg-blue-600 transition-all flex items-center justify-center gap-2 group">
                                Select Test
                                <span class="material-icons-outlined text-lg group-hover:translate-x-1 transition-transform">arrow_forward</span>
</button>
</div>
</div>
</div>
</section>
{% endfor %}

<section>
<div class="flex items-center justify-between mb-6">
<h3 class="font-display text-xl font-bold text-slate-900 dark:text-white">Skills Covered in Python Tests</h3>
<div class="h-1 flex-1 mx-6 bg-slate-100 dark:bg-slate-700 rounded-full"></div>
</div>
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-500 font-bold">PY</div>
<span class="text-sm font-semibold">Python Core Syntax</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-green-50 dark:bg-green-900/20 flex items-center justify-center text-green-500 font-bold">DS</div>
<span class="text-sm font-semibold">Data Structures</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 flex items-center justify-center text-yellow-600 font-bold">OOP</div>
<span class="text-sm font-semibold">Object-Oriented Programming</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-500 font-bold">MD</div>
<span class="text-sm font-semibold">Modules & Packages</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-cyan-50 dark:bg-cyan-900/20 flex items-center justify-center text-cyan-500 font-bold">EH</div>
<span class="text-sm font-semibold">Exception Handling</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center text-orange-500 font-bold">FI</div>
<span class="text-sm font-semibold">File I/O Operations</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-pink-50 dark:bg-pink-900/20 flex items-center justify-center text-pink-500 font-bold">ST</div>
<span class="text-sm font-semibold">Standard Library</span>
</div>
<div class="glass-card p-4 rounded-xl flex items-center gap-4 transition-transform hover:-translate-y-1 duration-300">
<div class="w-10 h-10 rounded-lg bg-slate-50 dark:bg-slate-700 flex items-center justify-center text-slate-500 font-bold">TD</div>
<span class="text-sm font-semibold">Testing & Debugging</span>
</div>
</div>
</section>
<section class="bg-blue-50/50 dark:bg-slate-800/50 rounded-xl border border-blue-100 dark:border-slate-700 p-12">
<h3 class="font-display text-xl font-bold text-slate-900 dark:text-white mb-8">Test Preparation Tips</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-12">
<div>
<div class="flex items-center gap-3 mb-6">
<div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary">
<span class="material-icons-outlined">lightbulb</span>
</div>
<h4 class="font-bold text-slate-900 dark:text-white">Before the Test</h4>
</div>
<ul class="space-y-4">
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Review Python syntax and data types
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Practice list comprehensions and generators
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Study OOP concepts and inheritance
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Understand exception handling patterns
                            </li>
</ul>
</div>
<div>
<div class="flex items-center gap-3 mb-6">
<div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center text-green-600">
<span class="material-icons-outlined">schedule</span>
</div>
<h4 class="font-bold text-slate-900 dark:text-white">During the Test</h4>
</div>
<ul class="space-y-4">
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Read each question carefully
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Manage your time effectively per task
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Mark difficult questions for later review
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Double-check your code answers
                            </li>
</ul>
</div>
<div>
<div class="flex items-center gap-3 mb-6">
<div class="w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center text-orange-600">
<span class="material-icons-outlined">trending_up</span>
</div>
<h4 class="font-bold text-slate-900 dark:text-white">After the Test</h4>
</div>
<ul class="space-y-4">
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Review your detailed results thoroughly
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Focus on identified weak areas
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Practice similar level coding questions
                            </li>
<li class="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
<span class="material-icons-outlined text-xs mt-1 text-primary">check_circle</span>
                                Take advanced level tests to progress
                            </li>
</ul>
</div>
</div>
</section>
</main>
<footer class="mt-20 pt-8 border-t border-slate-100 dark:border-slate-800 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-400">
<p>Â© 2024 Careerlytics Assessment Platform. All rights reserved.</p>
<div class="flex gap-6">
<a class="hover:text-primary transition-colors" href="#">Privacy Policy</a>
<a class="hover:text-primary transition-colors" href="#">Terms of Service</a>
<a class="hover:text-primary transition-colors" href="#">Support</a>
</div>
</footer>
</div>
<button class="fixed bottom-6 right-6 p-4 bg-white dark:bg-slate-700 rounded-full shadow-2xl border border-slate-100 dark:border-slate-600 text-slate-600 dark:text-white hover:scale-110 transition-all z-50" onclick="document.documentElement.classList.toggle('dark')">
<span class="material-icons-outlined block dark:hidden">dark_mode</span>
<span class="material-icons-outlined hidden dark:block">light_mode</span>
</button>

<script>
const langKey = '{{ lang_key }}';

function startTest(testIndex) {
    // Show loading state
    const button = event.target.closest('button');
    const originalText = button.innerHTML;
    button.innerHTML = '<span class="material-icons-outlined animate-spin">refresh</span> Loading...';
    button.disabled = true;
    
    // Start the test
    fetch('/mock-test/start/language/' + langKey + '/' + testIndex + '/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken')
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            // Store test data in sessionStorage
            sessionStorage.setItem('currentTest', JSON.stringify({
                type: 'language',
                category: langKey,
                testIndex: testIndex,
                testInfo: data.test_info,
                questions: data.questions
            }));
            
            // Redirect to exam interface
            window.location.href = '/mock-test/exam/';
        } else {
            alert('Failed to start test: ' + data.message);
            button.innerHTML = originalText;
            button.disabled = false;
        }
    })
    .catch(error => {
        console.error('Error starting test:', error);
        alert('Failed to start test. Please try again.');
        button.innerHTML = originalText;
        button.disabled = false;
    });
}

function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
</script>
{% endblock %}
